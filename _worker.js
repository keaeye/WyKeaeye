const _0x21cbee=_0x3b78;(function(_0x53657f,_0x12d3aa){const _0x30dacb=_0x3b78;const _0x5308be=_0x53657f();while(!![]){try{const _0x1ccfc4=-parseInt(_0x30dacb(0xe9))/0x1*(parseInt(_0x30dacb(0xb8))/0x2)+-parseInt(_0x30dacb(0xc2))/0x3*(parseInt(_0x30dacb(0x12d))/0x4)+parseInt(_0x30dacb(0x80))/0x5*(parseInt(_0x30dacb(0x195))/0x6)+parseInt(_0x30dacb(0xbe))/0x7*(parseInt(_0x30dacb(0xf4))/0x8)+-parseInt(_0x30dacb(0x12b))/0x9*(-parseInt(_0x30dacb(0x9f))/0xa)+parseInt(_0x30dacb(0x145))/0xb+parseInt(_0x30dacb(0xa4))/0xc;if(_0x1ccfc4===_0x12d3aa){break;}else{_0x5308be['push'](_0x5308be['shift']());}}catch(_0x560461){_0x5308be['push'](_0x5308be['shift']());}}}(_0x7d25,0x491e8));import{connect}from'cloudflare:sockets';let userID=_0x21cbee(0xff);let proxyIP='';let sub=_0x21cbee(0xb4);let subconverter=_0x21cbee(0x16e);let subconfig=_0x21cbee(0x14c);let subProtocol=_0x21cbee(0x14d);let socks5Address='';let parsedSocks5Address={};let enableSocks=![];let fakeUserID;let fakeHostName;let noTLS=_0x21cbee(0x9b);const expire=0xf4849500;let proxyIPs;let socks5s;let go2Socks5s=[_0x21cbee(0xb0),_0x21cbee(0x149),_0x21cbee(0x1b4),_0x21cbee(0x8d)];let addresses=[];let addressesapi=[];let addressesnotls=[];let addressesnotlsapi=[];let addressescsv=[];let DLS=0x8;let FileName='edgetunnel';let BotToken='';let ChatID='';let proxyhosts=[];let proxyhostsURL=_0x21cbee(0x103);let RproxyIP=_0x21cbee(0x9b);let httpsPorts=[_0x21cbee(0x129),'2083',_0x21cbee(0x193),_0x21cbee(0x10a),_0x21cbee(0x18e)];let effectiveTime=0x7;let updateTime=0x3;let userIDLow;let userIDTime='';if(!isValidUUID(userID)){throw new Error(_0x21cbee(0xe6));}export default{async 'fetch'(_0x161d3e,_0xf96ff6,_0x132947){const _0x5b6618=_0x21cbee;try{const _0x1d4abb=_0x161d3e[_0x5b6618(0xa6)][_0x5b6618(0x1ba)](_0x5b6618(0x1bc))||_0x5b6618(0x13a);const _0x55fbab=_0x1d4abb[_0x5b6618(0x16b)]();userID=(_0xf96ff6['UUID']||userID)[_0x5b6618(0x16b)]();const _0x5cfa77=new Date();_0x5cfa77[_0x5b6618(0xd8)](0x0,0x0,0x0,0x0);const _0x4f86f3=Math['ceil'](_0x5cfa77[_0x5b6618(0x1bb)]()/0x3e8);const _0x3cb892=await MD5MD5(''+userID+_0x4f86f3);fakeUserID=_0x3cb892[_0x5b6618(0x130)](0x0,0x8)+'-'+_0x3cb892['slice'](0x8,0xc)+'-'+_0x3cb892[_0x5b6618(0x130)](0xc,0x10)+'-'+_0x3cb892['slice'](0x10,0x14)+'-'+_0x3cb892['slice'](0x14);fakeHostName=_0x3cb892[_0x5b6618(0x130)](0x6,0x9)+'.'+_0x3cb892[_0x5b6618(0x130)](0xd,0x13);if(_0xf96ff6[_0x5b6618(0x108)]){const _0x20a516=await generateDynamicUUID(_0xf96ff6['KEY']);userID=_0x20a516[0x0];userIDLow=_0x20a516[0x1];userIDTime=_0x20a516[0x2];effectiveTime=_0xf96ff6[_0x5b6618(0x118)]||effectiveTime;updateTime=_0xf96ff6[_0x5b6618(0x105)]||updateTime;}proxyIP=_0xf96ff6['PROXYIP']||proxyIP;proxyIPs=await ADD(proxyIP);proxyIP=proxyIPs[Math[_0x5b6618(0x180)](Math[_0x5b6618(0x13f)]()*proxyIPs[_0x5b6618(0xa9)])];socks5Address=_0xf96ff6['SOCKS5']||socks5Address;socks5s=await ADD(socks5Address);socks5Address=socks5s[Math[_0x5b6618(0x180)](Math['random']()*socks5s[_0x5b6618(0xa9)])];socks5Address=socks5Address['split']('//')[0x1]||socks5Address;if(_0xf96ff6[_0x5b6618(0x1a5)])httpsPorts=await ADD(_0xf96ff6[_0x5b6618(0x1a5)]);sub=_0xf96ff6[_0x5b6618(0xca)]||sub;subconverter=_0xf96ff6[_0x5b6618(0xcd)]||subconverter;if(subconverter['includes'](_0x5b6618(0x181))){subconverter=subconverter[_0x5b6618(0xde)]('//')[0x1];subProtocol=_0x5b6618(0x178);}else{subconverter=subconverter['split']('//')[0x1]||subconverter;}subconfig=_0xf96ff6[_0x5b6618(0x138)]||subconfig;if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);RproxyIP=_0xf96ff6[_0x5b6618(0x150)]||_0x5b6618(0x9b);enableSocks=!![];}catch(_0x6c7d3c){let _0x17e5c8=_0x6c7d3c;console['log'](_0x17e5c8[_0x5b6618(0xe0)]());RproxyIP=_0xf96ff6[_0x5b6618(0x150)]||!proxyIP?_0x5b6618(0x176):_0x5b6618(0x9b);enableSocks=![];}}else{RproxyIP=_0xf96ff6[_0x5b6618(0x150)]||!proxyIP?_0x5b6618(0x176):'false';}if(_0xf96ff6[_0x5b6618(0xaa)])addresses=await ADD(_0xf96ff6[_0x5b6618(0xaa)]);if(_0xf96ff6[_0x5b6618(0x15f)])addressesapi=await ADD(_0xf96ff6[_0x5b6618(0x15f)]);if(_0xf96ff6[_0x5b6618(0xc0)])addressesnotls=await ADD(_0xf96ff6[_0x5b6618(0xc0)]);if(_0xf96ff6[_0x5b6618(0x170)])addressesnotlsapi=await ADD(_0xf96ff6[_0x5b6618(0x170)]);if(_0xf96ff6[_0x5b6618(0x1be)])addressescsv=await ADD(_0xf96ff6[_0x5b6618(0x1be)]);DLS=_0xf96ff6[_0x5b6618(0x168)]||DLS;BotToken=_0xf96ff6[_0x5b6618(0x11d)]||BotToken;ChatID=_0xf96ff6[_0x5b6618(0x115)]||ChatID;if(_0xf96ff6[_0x5b6618(0xe1)])go2Socks5s=await ADD(_0xf96ff6['GO2SOCKS5']);const _0x13fca2=_0x161d3e[_0x5b6618(0xa6)][_0x5b6618(0x1ba)](_0x5b6618(0x7a));const _0x3cec0c=new URL(_0x161d3e[_0x5b6618(0x9c)]);if(_0x3cec0c[_0x5b6618(0x17c)][_0x5b6618(0x116)](_0x5b6618(0x123))&&_0x3cec0c[_0x5b6618(0x17c)]['get'](_0x5b6618(0x123))!=='')sub=_0x3cec0c[_0x5b6618(0x17c)][_0x5b6618(0x1ba)]('sub');FileName=_0xf96ff6['SUBNAME']||FileName;if(_0x3cec0c[_0x5b6618(0x17c)][_0x5b6618(0x116)]('notls'))noTLS='true';if(!_0x13fca2||_0x13fca2!==_0x5b6618(0x107)){const _0x48deda=_0x3cec0c[_0x5b6618(0x171)][_0x5b6618(0x16b)]();if(_0x48deda=='/'){if(_0xf96ff6['URL302'])return Response[_0x5b6618(0xeb)](_0xf96ff6[_0x5b6618(0xa7)],0x12e);else if(_0xf96ff6['URL'])return await proxyURL(_0xf96ff6[_0x5b6618(0xee)],_0x3cec0c);else return new Response(JSON['stringify'](_0x161d3e['cf'],null,0x4),{'status':0xc8,'headers':{'content-type':'application/json'}});}else if(_0x48deda=='/'+fakeUserID){const _0x5b6f3e=await getVLESSConfig(userID,_0x161d3e['headers'][_0x5b6618(0x1ba)]('Host'),sub,_0x5b6618(0x153),RproxyIP,_0x3cec0c,_0xf96ff6);return new Response(''+_0x5b6f3e,{'status':0xc8});}else if(_0x48deda=='/'+_0xf96ff6['KEY']||_0x48deda=='/'+userID){await sendMessage(_0x5b6618(0xe5)+FileName,_0x161d3e[_0x5b6618(0xa6)][_0x5b6618(0x1ba)](_0x5b6618(0x14e)),_0x5b6618(0xf2)+_0x1d4abb+_0x5b6618(0x88)+_0x3cec0c[_0x5b6618(0x119)]+'\x0a<tg-spoiler>入口:\x20'+(_0x3cec0c[_0x5b6618(0x171)]+_0x3cec0c[_0x5b6618(0x84)])+'</tg-spoiler>');const _0x191e3b=await getVLESSConfig(userID,_0x161d3e['headers']['get'](_0x5b6618(0xb3)),sub,_0x1d4abb,RproxyIP,_0x3cec0c,_0xf96ff6);const _0x47d04e=Date['now']();const _0x998500=new Date(_0x47d04e);_0x998500[_0x5b6618(0xd8)](0x0,0x0,0x0,0x0);const _0x38e0a4=Math[_0x5b6618(0x180)]((_0x47d04e-_0x998500[_0x5b6618(0x1bb)]())/0x5265c00*0x18*0x10000000000/0x2);let _0x406fd5=_0x38e0a4;let _0x586f5c=_0x38e0a4;let _0x498112=0x18*0x10000000000;if(_0xf96ff6['CFEMAIL']&&_0xf96ff6['CFKEY']){const _0x28a706=_0xf96ff6[_0x5b6618(0xc3)];const _0x23b32b=_0xf96ff6[_0x5b6618(0xd4)];const _0x1a0d5b=_0xf96ff6['CFID']||0x0;const _0x4f5e71=await getAccountId(_0x28a706,_0x23b32b);if(_0x4f5e71){const _0x2edf5f=new Date();_0x2edf5f[_0x5b6618(0x91)](0x0,0x0,0x0,0x0);const _0x21e0dc=_0x2edf5f[_0x5b6618(0x158)]();const _0x235f7a=new Date()[_0x5b6618(0x158)]();const _0x3a08f6=await getSum(_0x4f5e71,_0x1a0d5b,_0x28a706,_0x23b32b,_0x21e0dc,_0x235f7a);_0x406fd5=_0x3a08f6[0x0];_0x586f5c=_0x3a08f6[0x1];_0x498112=0x19000;}}if(_0x55fbab&&_0x55fbab[_0x5b6618(0x114)](_0x5b6618(0x16d))){return new Response(''+_0x191e3b,{'status':0xc8,'headers':{'Content-Type':_0x5b6618(0x11f),'Profile-Update-Interval':'6','Subscription-Userinfo':_0x5b6618(0xce)+_0x406fd5+_0x5b6618(0x143)+_0x586f5c+_0x5b6618(0x1a8)+_0x498112+_0x5b6618(0xc8)+expire}});}else{return new Response(''+_0x191e3b,{'status':0xc8,'headers':{'Content-Disposition':_0x5b6618(0x154)+FileName+_0x5b6618(0x110)+encodeURIComponent(FileName),'Content-Type':_0x5b6618(0x11f),'Profile-Update-Interval':'6','Subscription-Userinfo':'upload='+_0x406fd5+_0x5b6618(0x143)+_0x586f5c+_0x5b6618(0x1a8)+_0x498112+_0x5b6618(0xc8)+expire}});}}else{if(_0xf96ff6[_0x5b6618(0xa7)])return Response[_0x5b6618(0xeb)](_0xf96ff6[_0x5b6618(0xa7)],0x12e);else if(_0xf96ff6[_0x5b6618(0xee)])return await proxyURL(_0xf96ff6['URL'],_0x3cec0c);else return new Response('你UUID是错的！！！',{'status':0x194});}}else{proxyIP=_0x3cec0c[_0x5b6618(0x17c)][_0x5b6618(0x1ba)](_0x5b6618(0x10e))||proxyIP;if(new RegExp('/proxyip=','i')[_0x5b6618(0xb5)](_0x3cec0c['pathname']))proxyIP=_0x3cec0c[_0x5b6618(0x171)][_0x5b6618(0x16b)]()[_0x5b6618(0xde)]('/proxyip=')[0x1];else if(new RegExp(_0x5b6618(0x163),'i')['test'](_0x3cec0c[_0x5b6618(0x171)]))proxyIP=_0x5b6618(0x11e)+_0x3cec0c[_0x5b6618(0x171)][_0x5b6618(0x16b)]()['split'](_0x5b6618(0x163))[0x1];socks5Address=_0x3cec0c['searchParams'][_0x5b6618(0x1ba)](_0x5b6618(0xae))||socks5Address;if(new RegExp('/socks5=','i')[_0x5b6618(0xb5)](_0x3cec0c[_0x5b6618(0x171)]))socks5Address=_0x3cec0c['pathname'][_0x5b6618(0xde)]('5=')[0x1];else if(new RegExp(_0x5b6618(0xf0),'i')['test'](_0x3cec0c[_0x5b6618(0x171)])||new RegExp(_0x5b6618(0x1b7),'i')['test'](_0x3cec0c['pathname'])){socks5Address=_0x3cec0c[_0x5b6618(0x171)][_0x5b6618(0xde)](_0x5b6618(0x9d))[0x1][_0x5b6618(0xde)]('#')[0x0];if(socks5Address[_0x5b6618(0x114)]('@')){let _0xe335b0=socks5Address[_0x5b6618(0xde)]('@')[0x0];const _0x49de86=/^(?:[A-Z0-9+/]{4})*(?:[A-Z0-9+/]{2}==|[A-Z0-9+/]{3}=)?$/i;if(_0x49de86['test'](_0xe335b0)&&!_0xe335b0[_0x5b6618(0x114)](':'))_0xe335b0=atob(_0xe335b0);socks5Address=_0xe335b0+'@'+socks5Address['split']('@')[0x1];}}if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);enableSocks=!![];}catch(_0x4e70d2){let _0x63009b=_0x4e70d2;console['log'](_0x63009b[_0x5b6618(0xe0)]());enableSocks=![];}}else{enableSocks=![];}return await vlessOverWSHandler(_0x161d3e);}}catch(_0x5a0148){let _0x1ea491=_0x5a0148;return new Response(_0x1ea491[_0x5b6618(0xe0)]());}}};async function vlessOverWSHandler(_0x5b747d){const _0xe12018=_0x21cbee;const _0x1a4c17=new WebSocketPair();const [_0x39a6c0,_0x3e5967]=Object[_0xe12018(0x184)](_0x1a4c17);_0x3e5967[_0xe12018(0x11c)]();let _0x115a90='';let _0xf293e1='';const _0x360e8f=(_0x26e09b,_0x297975)=>{const _0x296587=_0xe12018;console[_0x296587(0x135)]('['+_0x115a90+':'+_0xf293e1+']\x20'+_0x26e09b,_0x297975||'');};const _0x427cae=_0x5b747d[_0xe12018(0xa6)][_0xe12018(0x1ba)](_0xe12018(0xa3))||'';const _0x23a8f6=makeReadableWebSocketStream(_0x3e5967,_0x427cae,_0x360e8f);let _0x4d445f={'value':null};let _0x4282dc=![];_0x23a8f6[_0xe12018(0xd0)](new WritableStream({async 'write'(_0x5b8e5b,_0x197628){const _0x84dc49=_0xe12018;if(_0x4282dc){return await handleDNSQuery(_0x5b8e5b,_0x3e5967,null,_0x360e8f);}if(_0x4d445f[_0x84dc49(0xbf)]){const _0x49f97f=_0x4d445f[_0x84dc49(0xbf)][_0x84dc49(0x11b)][_0x84dc49(0x162)]();await _0x49f97f[_0x84dc49(0xf3)](_0x5b8e5b);_0x49f97f[_0x84dc49(0x1b2)]();return;}const {hasError:_0x34e647,message:_0x5abc40,addressType:_0x328316,portRemote:portRemote=0x1bb,addressRemote:addressRemote='',rawDataIndex:_0x2434e6,vlessVersion:vlessVersion=new Uint8Array([0x0,0x0]),isUDP:_0x538d1d}=processVlessHeader(_0x5b8e5b,userID);_0x115a90=addressRemote;_0xf293e1=portRemote+'--'+Math[_0x84dc49(0x13f)]()+'\x20'+(_0x538d1d?_0x84dc49(0x1ab):_0x84dc49(0x166))+'\x20';if(_0x34e647){throw new Error(_0x5abc40);return;}if(_0x538d1d){if(portRemote===0x35){_0x4282dc=!![];}else{throw new Error(_0x84dc49(0xf9));return;}}const _0x1d4056=new Uint8Array([vlessVersion[0x0],0x0]);const _0x4d483f=_0x5b8e5b[_0x84dc49(0x130)](_0x2434e6);if(_0x4282dc){return handleDNSQuery(_0x4d483f,_0x3e5967,_0x1d4056,_0x360e8f);}_0x360e8f(_0x84dc49(0x186)+addressRemote+':'+portRemote);handleTCPOutBound(_0x4d445f,_0x328316,addressRemote,portRemote,_0x4d483f,_0x3e5967,_0x1d4056,_0x360e8f);},'close'(){const _0x17a9c4=_0xe12018;_0x360e8f(_0x17a9c4(0x167));},'abort'(_0x441f68){const _0x1e132f=_0xe12018;_0x360e8f(_0x1e132f(0xe8),JSON['stringify'](_0x441f68));}}))[_0xe12018(0x81)](_0x33e51d=>{const _0x22b18d=_0xe12018;_0x360e8f(_0x22b18d(0x19c),_0x33e51d);});return new Response(null,{'status':0x65,'webSocket':_0x39a6c0});}async function handleTCPOutBound(_0x41f4a2,_0x26db22,_0x5edc98,_0x307ec1,_0x7c5b1a,_0x4ca79e,_0x3af9ed,_0x3f5ba5){const _0x4a9481=_0x21cbee;async function _0x21da11(_0x3806cb){const _0x1a29c2=_0x3b78;if(go2Socks5s[_0x1a29c2(0x114)](atob('YWxsIGlu'))||go2Socks5s[_0x1a29c2(0x114)](atob(_0x1a29c2(0x137))))return!![];return go2Socks5s['some'](_0x2745f0=>{const _0x3739f8=_0x1a29c2;let _0x4ca877=_0x2745f0[_0x3739f8(0x1af)](/\*/g,'.*');let _0x1444cb=new RegExp('^'+_0x4ca877+'$','i');return _0x1444cb['test'](_0x3806cb);});}async function _0x455487(_0x343413,_0x38b4ed,_0x161360=![]){const _0x8b0756=_0x3b78;_0x3f5ba5(_0x8b0756(0xfc)+_0x343413+':'+_0x38b4ed);const _0x3c8b94=_0x161360?await socks5Connect(_0x26db22,_0x343413,_0x38b4ed,_0x3f5ba5):connect({'hostname':_0x343413,'port':_0x38b4ed});_0x41f4a2['value']=_0x3c8b94;const _0x40c320=_0x3c8b94[_0x8b0756(0x11b)][_0x8b0756(0x162)]();await _0x40c320[_0x8b0756(0xf3)](_0x7c5b1a);_0x40c320[_0x8b0756(0x1b2)]();return _0x3c8b94;}async function _0xb10ccc(){const _0x235a67=_0x3b78;if(enableSocks){_0x1f26fa=await _0x455487(_0x5edc98,_0x307ec1,!![]);}else{if(!proxyIP||proxyIP==''){proxyIP=atob(_0x235a67(0x139));}else if(proxyIP[_0x235a67(0x114)](']:')){_0x307ec1=proxyIP[_0x235a67(0xde)](']:')[0x1]||_0x307ec1;proxyIP=proxyIP[_0x235a67(0xde)](']:')[0x0]||proxyIP;}else if(proxyIP['split'](':')[_0x235a67(0xa9)]===0x2){_0x307ec1=proxyIP[_0x235a67(0xde)](':')[0x1]||_0x307ec1;proxyIP=proxyIP[_0x235a67(0xde)](':')[0x0]||proxyIP;}if(proxyIP[_0x235a67(0x114)]('.tp'))_0x307ec1=proxyIP[_0x235a67(0xde)](_0x235a67(0x7f))[0x1]['split']('.')[0x0]||_0x307ec1;_0x1f26fa=await _0x455487(proxyIP||_0x5edc98,_0x307ec1);}_0x1f26fa[_0x235a67(0xb6)][_0x235a67(0x81)](_0x53b31d=>{const _0x26a7e9=_0x235a67;console[_0x26a7e9(0x135)]('retry\x20tcpSocket\x20closed\x20error',_0x53b31d);})['finally'](()=>{safeCloseWebSocket(_0x4ca79e);});remoteSocketToWS(_0x1f26fa,_0x4ca79e,_0x3af9ed,null,_0x3f5ba5);}let _0x97da51=![];if(go2Socks5s[_0x4a9481(0xa9)]>0x0&&enableSocks)_0x97da51=await _0x21da11(_0x5edc98);let _0x1f26fa=await _0x455487(_0x5edc98,_0x307ec1,_0x97da51);remoteSocketToWS(_0x1f26fa,_0x4ca79e,_0x3af9ed,_0xb10ccc,_0x3f5ba5);}function makeReadableWebSocketStream(_0x18f035,_0x9ca220,_0x4fceb1){let _0x179d74=![];const _0x48da67=new ReadableStream({'start'(_0x54074c){const _0x3d0085=_0x3b78;_0x18f035[_0x3d0085(0x96)]('message',_0x58e6e7=>{const _0x44e4ce=_0x3d0085;if(_0x179d74){return;}const _0x5436d0=_0x58e6e7[_0x44e4ce(0x19e)];_0x54074c[_0x44e4ce(0x17d)](_0x5436d0);});_0x18f035['addEventListener']('close',()=>{const _0x42e790=_0x3d0085;safeCloseWebSocket(_0x18f035);if(_0x179d74){return;}_0x54074c[_0x42e790(0xda)]();});_0x18f035['addEventListener'](_0x3d0085(0xf5),_0xbb2abd=>{const _0x22acff=_0x3d0085;_0x4fceb1(_0x22acff(0xd2));_0x54074c[_0x22acff(0xf5)](_0xbb2abd);});const {earlyData:_0x59ba5e,error:_0x1d50cc}=base64ToArrayBuffer(_0x9ca220);if(_0x1d50cc){_0x54074c[_0x3d0085(0xf5)](_0x1d50cc);}else if(_0x59ba5e){_0x54074c[_0x3d0085(0x17d)](_0x59ba5e);}},'pull'(_0x5d3e7f){},'cancel'(_0x401d91){const _0x3dc9b6=_0x3b78;if(_0x179d74){return;}_0x4fceb1(_0x3dc9b6(0x1c1)+_0x401d91);_0x179d74=!![];safeCloseWebSocket(_0x18f035);}});return _0x48da67;}function processVlessHeader(_0x543f2b,_0x1b570b){const _0x265de4=_0x21cbee;if(_0x543f2b['byteLength']<0x18){return{'hasError':!![],'message':'invalid\x20data'};}const _0x4d9703=new Uint8Array(_0x543f2b[_0x265de4(0x130)](0x0,0x1));let _0x91ee84=![];let _0x14e832=![];function _0x19f747(_0x188f16,_0x23597f,_0x2ec5d7){const _0x55f6b8=_0x265de4;const _0x4b5143=new Uint8Array(_0x2ec5d7[_0x55f6b8(0x130)](0x1,0x11));const _0x2dc2d7=stringify(_0x4b5143);return _0x2dc2d7===_0x188f16||_0x2dc2d7===_0x23597f;}_0x91ee84=_0x19f747(_0x1b570b,userIDLow,_0x543f2b);if(!_0x91ee84){return{'hasError':!![],'message':_0x265de4(0xf6)+new Uint8Array(_0x543f2b[_0x265de4(0x130)](0x1,0x11))};}const _0x195a88=new Uint8Array(_0x543f2b['slice'](0x11,0x12))[0x0];const _0x1697e8=new Uint8Array(_0x543f2b[_0x265de4(0x130)](0x12+_0x195a88,0x12+_0x195a88+0x1))[0x0];if(_0x1697e8===0x1){}else if(_0x1697e8===0x2){_0x14e832=!![];}else{return{'hasError':!![],'message':_0x265de4(0xbb)+_0x1697e8+'\x20is\x20not\x20support,\x20command\x2001-tcp,02-udp,03-mux'};}const _0x4c0ebe=0x12+_0x195a88+0x1;const _0x44179b=_0x543f2b['slice'](_0x4c0ebe,_0x4c0ebe+0x2);const _0x4fb818=new DataView(_0x44179b)[_0x265de4(0xc6)](0x0);let _0x53d2ee=_0x4c0ebe+0x2;const _0x24b657=new Uint8Array(_0x543f2b[_0x265de4(0x130)](_0x53d2ee,_0x53d2ee+0x1));const _0x5d75b1=_0x24b657[0x0];let _0x4335db=0x0;let _0x29eb6f=_0x53d2ee+0x1;let _0x56aa29='';switch(_0x5d75b1){case 0x1:_0x4335db=0x4;_0x56aa29=new Uint8Array(_0x543f2b[_0x265de4(0x130)](_0x29eb6f,_0x29eb6f+_0x4335db))[_0x265de4(0x14b)]('.');break;case 0x2:_0x4335db=new Uint8Array(_0x543f2b[_0x265de4(0x130)](_0x29eb6f,_0x29eb6f+0x1))[0x0];_0x29eb6f+=0x1;_0x56aa29=new TextDecoder()['decode'](_0x543f2b['slice'](_0x29eb6f,_0x29eb6f+_0x4335db));break;case 0x3:_0x4335db=0x10;const _0x5f2de3=new DataView(_0x543f2b[_0x265de4(0x130)](_0x29eb6f,_0x29eb6f+_0x4335db));const _0x364f0d=[];for(let _0x406b8e=0x0;_0x406b8e<0x8;_0x406b8e++){_0x364f0d['push'](_0x5f2de3[_0x265de4(0xc6)](_0x406b8e*0x2)[_0x265de4(0xe0)](0x10));}_0x56aa29=_0x364f0d['join'](':');break;default:return{'hasError':!![],'message':_0x265de4(0xf1)+_0x5d75b1};}if(!_0x56aa29){return{'hasError':!![],'message':_0x265de4(0x197)+_0x5d75b1};}return{'hasError':![],'addressRemote':_0x56aa29,'addressType':_0x5d75b1,'portRemote':_0x4fb818,'rawDataIndex':_0x29eb6f+_0x4335db,'vlessVersion':_0x4d9703,'isUDP':_0x14e832};}async function remoteSocketToWS(_0x26c343,_0x137fce,_0x2103a8,_0x2d7e48,_0x50b71c){const _0x4624e1=_0x21cbee;let _0x480b23=0x0;let _0x468b76=[];let _0x35266c=_0x2103a8;let _0x411e6b=![];await _0x26c343[_0x4624e1(0x196)][_0x4624e1(0xd0)](new WritableStream({'start'(){},async 'write'(_0x8476a6,_0x45fa8d){const _0x54e010=_0x4624e1;_0x411e6b=!![];if(_0x137fce[_0x54e010(0x160)]!==WS_READY_STATE_OPEN){_0x45fa8d[_0x54e010(0xf5)](_0x54e010(0x16c));}if(_0x35266c){_0x137fce[_0x54e010(0x10b)](await new Blob([_0x35266c,_0x8476a6])[_0x54e010(0xb7)]());_0x35266c=null;}else{_0x137fce[_0x54e010(0x10b)](_0x8476a6);}},'close'(){const _0x2ce834=_0x4624e1;_0x50b71c(_0x2ce834(0x13b)+_0x411e6b);},'abort'(_0x464381){const _0x1a3524=_0x4624e1;console[_0x1a3524(0xf5)](_0x1a3524(0x15b),_0x464381);}}))[_0x4624e1(0x81)](_0x30aedd=>{const _0xe0a062=_0x4624e1;console['error'](_0xe0a062(0x17b),_0x30aedd[_0xe0a062(0x169)]||_0x30aedd);safeCloseWebSocket(_0x137fce);});if(_0x411e6b===![]&&_0x2d7e48){_0x50b71c(_0x4624e1(0x127));_0x2d7e48();}}function base64ToArrayBuffer(_0x44417e){const _0x1704ac=_0x21cbee;if(!_0x44417e){return{'error':null};}try{_0x44417e=_0x44417e[_0x1704ac(0x1af)](/-/g,'+')['replace'](/_/g,'/');const _0x2871af=atob(_0x44417e);const _0x2cdcd3=Uint8Array[_0x1704ac(0xe7)](_0x2871af,_0x1112a9=>_0x1112a9[_0x1704ac(0xd3)](0x0));return{'earlyData':_0x2cdcd3[_0x1704ac(0x10d)],'error':null};}catch(_0x5aec31){return{'error':_0x5aec31};}}function isValidUUID(_0x1b740b){const _0x125d51=_0x21cbee;const _0x1c9c32=/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i;return _0x1c9c32[_0x125d51(0xb5)](_0x1b740b);}const WS_READY_STATE_OPEN=0x1;const WS_READY_STATE_CLOSING=0x2;function safeCloseWebSocket(_0x1c835f){const _0x5e43fe=_0x21cbee;try{if(_0x1c835f[_0x5e43fe(0x160)]===WS_READY_STATE_OPEN||_0x1c835f[_0x5e43fe(0x160)]===WS_READY_STATE_CLOSING){_0x1c835f[_0x5e43fe(0xda)]();}}catch(_0x509509){console[_0x5e43fe(0xf5)](_0x5e43fe(0x125),_0x509509);}}const byteToHex=[];for(let i=0x0;i<0x100;++i){byteToHex[_0x21cbee(0x104)]((i+0x100)['toString'](0x10)[_0x21cbee(0x130)](0x1));}function unsafeStringify(_0xf6ce80,_0x18a422=0x0){return(byteToHex[_0xf6ce80[_0x18a422+0x0]]+byteToHex[_0xf6ce80[_0x18a422+0x1]]+byteToHex[_0xf6ce80[_0x18a422+0x2]]+byteToHex[_0xf6ce80[_0x18a422+0x3]]+'-'+byteToHex[_0xf6ce80[_0x18a422+0x4]]+byteToHex[_0xf6ce80[_0x18a422+0x5]]+'-'+byteToHex[_0xf6ce80[_0x18a422+0x6]]+byteToHex[_0xf6ce80[_0x18a422+0x7]]+'-'+byteToHex[_0xf6ce80[_0x18a422+0x8]]+byteToHex[_0xf6ce80[_0x18a422+0x9]]+'-'+byteToHex[_0xf6ce80[_0x18a422+0xa]]+byteToHex[_0xf6ce80[_0x18a422+0xb]]+byteToHex[_0xf6ce80[_0x18a422+0xc]]+byteToHex[_0xf6ce80[_0x18a422+0xd]]+byteToHex[_0xf6ce80[_0x18a422+0xe]]+byteToHex[_0xf6ce80[_0x18a422+0xf]])['toLowerCase']();}function stringify(_0x1adead,_0x4439fa=0x0){const _0x29789a=_0x21cbee;const _0xeaa9d7=unsafeStringify(_0x1adead,_0x4439fa);if(!isValidUUID(_0xeaa9d7)){throw TypeError(_0x29789a(0x113)+_0xeaa9d7);}return _0xeaa9d7;}async function handleDNSQuery(_0x244616,_0x2262c8,_0x1c5c5b,_0x913dc3){const _0x12a848=_0x21cbee;try{const _0x532c6a=_0x12a848(0x12c);const _0x3067fe=0x35;let _0x182e7e=_0x1c5c5b;const _0xc01cb9=connect({'hostname':_0x532c6a,'port':_0x3067fe});_0x913dc3('连接到\x20'+_0x532c6a+':'+_0x3067fe);const _0x247b8d=_0xc01cb9[_0x12a848(0x11b)][_0x12a848(0x162)]();await _0x247b8d[_0x12a848(0xf3)](_0x244616);_0x247b8d[_0x12a848(0x1b2)]();await _0xc01cb9['readable'][_0x12a848(0xd0)](new WritableStream({async 'write'(_0x19852d){const _0x3b5e58=_0x12a848;if(_0x2262c8[_0x3b5e58(0x160)]===WS_READY_STATE_OPEN){if(_0x182e7e){_0x2262c8[_0x3b5e58(0x10b)](await new Blob([_0x182e7e,_0x19852d])[_0x3b5e58(0xb7)]());_0x182e7e=null;}else{_0x2262c8['send'](_0x19852d);}}},'close'(){const _0x364824=_0x12a848;_0x913dc3(_0x364824(0xfd)+_0x532c6a+_0x364824(0x1b8));},'abort'(_0x4c7d0d){const _0x5742d8=_0x12a848;console[_0x5742d8(0xf5)]('DNS\x20服务器('+_0x532c6a+_0x5742d8(0xb9),_0x4c7d0d);}}));}catch(_0xb7bc3e){console[_0x12a848(0xf5)]('handleDNSQuery\x20函数发生异常，错误信息:\x20'+_0xb7bc3e['message']);}}async function socks5Connect(_0x36caea,_0x52e33c,_0x198fb7,_0x4233fd){const _0x51f3c7=_0x21cbee;const {username:_0x589650,password:_0x448137,hostname:_0x8581ae,port:_0x4cacc4}=parsedSocks5Address;const _0x27415e=connect({'hostname':_0x8581ae,'port':_0x4cacc4});const _0x291928=new Uint8Array([0x5,0x2,0x0,0x2]);const _0x59231f=_0x27415e[_0x51f3c7(0x11b)][_0x51f3c7(0x162)]();await _0x59231f['write'](_0x291928);_0x4233fd(_0x51f3c7(0x1b6));const _0x9405de=_0x27415e['readable'][_0x51f3c7(0x15e)]();const _0x282706=new TextEncoder();let _0x4b7d9a=(await _0x9405de['read']())['value'];if(_0x4b7d9a[0x0]!==0x5){_0x4233fd(_0x51f3c7(0xfa)+_0x4b7d9a[0x0]+'，期望是\x205');return;}if(_0x4b7d9a[0x1]===0xff){_0x4233fd(_0x51f3c7(0x15c));return;}if(_0x4b7d9a[0x1]===0x2){_0x4233fd('SOCKS5\x20服务器需要认证');if(!_0x589650||!_0x448137){_0x4233fd(_0x51f3c7(0x12f));return;}const _0x1a30a9=new Uint8Array([0x1,_0x589650[_0x51f3c7(0xa9)],..._0x282706[_0x51f3c7(0x85)](_0x589650),_0x448137[_0x51f3c7(0xa9)],..._0x282706[_0x51f3c7(0x85)](_0x448137)]);await _0x59231f['write'](_0x1a30a9);_0x4b7d9a=(await _0x9405de[_0x51f3c7(0x157)]())[_0x51f3c7(0xbf)];if(_0x4b7d9a[0x0]!==0x1||_0x4b7d9a[0x1]!==0x0){_0x4233fd(_0x51f3c7(0xb1));return;}}let _0x4af3fd;switch(_0x36caea){case 0x1:_0x4af3fd=new Uint8Array([0x1,..._0x52e33c[_0x51f3c7(0xde)]('.')[_0x51f3c7(0x1a6)](Number)]);break;case 0x2:_0x4af3fd=new Uint8Array([0x3,_0x52e33c[_0x51f3c7(0xa9)],..._0x282706['encode'](_0x52e33c)]);break;case 0x3:_0x4af3fd=new Uint8Array([0x4,..._0x52e33c[_0x51f3c7(0xde)](':')['flatMap'](_0x5b097a=>[parseInt(_0x5b097a[_0x51f3c7(0x130)](0x0,0x2),0x10),parseInt(_0x5b097a[_0x51f3c7(0x130)](0x2),0x10)])]);break;default:_0x4233fd(_0x51f3c7(0x175)+_0x36caea);return;}const _0x13c744=new Uint8Array([0x5,0x1,0x0,..._0x4af3fd,_0x198fb7>>0x8,_0x198fb7&0xff]);await _0x59231f[_0x51f3c7(0xf3)](_0x13c744);_0x4233fd(_0x51f3c7(0x109));_0x4b7d9a=(await _0x9405de['read']())[_0x51f3c7(0xbf)];if(_0x4b7d9a[0x1]===0x0){_0x4233fd('SOCKS5\x20连接已建立');}else{_0x4233fd('SOCKS5\x20连接建立失败');return;}_0x59231f[_0x51f3c7(0x1b2)]();_0x9405de['releaseLock']();return _0x27415e;}function socks5AddressParser(_0x3c899e){const _0x5751ff=_0x21cbee;let [_0x4c5636,_0x1f52ed]=_0x3c899e[_0x5751ff(0xde)]('@')['reverse']();let _0x644e6c,_0xd2e4bc,_0x1ef23a,_0x1491dd;if(_0x1f52ed){const _0x5903f2=_0x1f52ed[_0x5751ff(0xde)](':');if(_0x5903f2[_0x5751ff(0xa9)]!==0x2){throw new Error('无效的\x20SOCKS\x20地址格式：认证部分必须是\x20\x22username:password\x22\x20的形式');}[_0x644e6c,_0xd2e4bc]=_0x5903f2;}const _0x521dc9=_0x4c5636[_0x5751ff(0xde)](':');_0x1491dd=Number(_0x521dc9[_0x5751ff(0x19d)]());if(isNaN(_0x1491dd)){throw new Error(_0x5751ff(0x121));}_0x1ef23a=_0x521dc9['join'](':');const _0xc44b69=/^\[.*\]$/;if(_0x1ef23a[_0x5751ff(0x114)](':')&&!_0xc44b69['test'](_0x1ef23a)){throw new Error('无效的\x20SOCKS\x20地址格式：IPv6\x20地址必须用方括号括起来，如\x20[2001:db8::1]');}return{'username':_0x644e6c,'password':_0xd2e4bc,'hostname':_0x1ef23a,'port':_0x1491dd};}function revertFakeInfo(_0x1ecf75,_0x57b07b,_0x29f7e0,_0x3d6ddc){const _0x24857f=_0x21cbee;if(_0x3d6ddc)_0x1ecf75=atob(_0x1ecf75);_0x1ecf75=_0x1ecf75[_0x24857f(0x1af)](new RegExp(fakeUserID,'g'),_0x57b07b)[_0x24857f(0x1af)](new RegExp(fakeHostName,'g'),_0x29f7e0);if(_0x3d6ddc)_0x1ecf75=btoa(_0x1ecf75);return _0x1ecf75;}async function MD5MD5(_0x36fef6){const _0x4d53db=_0x21cbee;const _0x2e9b0e=new TextEncoder();const _0x512dc0=await crypto[_0x4d53db(0x15a)][_0x4d53db(0xdb)](_0x4d53db(0x86),_0x2e9b0e[_0x4d53db(0x85)](_0x36fef6));const _0x39f303=Array['from'](new Uint8Array(_0x512dc0));const _0x85551a=_0x39f303[_0x4d53db(0x1a6)](_0x250834=>_0x250834[_0x4d53db(0xe0)](0x10)['padStart'](0x2,'0'))['join']('');const _0x4854d8=await crypto[_0x4d53db(0x15a)][_0x4d53db(0xdb)](_0x4d53db(0x86),_0x2e9b0e['encode'](_0x85551a['slice'](0x7,0x1b)));const _0x53b7b3=Array['from'](new Uint8Array(_0x4854d8));const _0x469c50=_0x53b7b3[_0x4d53db(0x1a6)](_0x54ff0c=>_0x54ff0c[_0x4d53db(0xe0)](0x10)[_0x4d53db(0x12a)](0x2,'0'))[_0x4d53db(0x14b)]('');return _0x469c50[_0x4d53db(0x16b)]();}async function ADD(_0x35c265){const _0x115522=_0x21cbee;var _0x50f513=_0x35c265['replace'](/[	|"'\r\n]+/g,',')['replace'](/,+/g,',');if(_0x50f513[_0x115522(0x18a)](0x0)==',')_0x50f513=_0x50f513['slice'](0x1);if(_0x50f513[_0x115522(0x18a)](_0x50f513[_0x115522(0xa9)]-0x1)==',')_0x50f513=_0x50f513[_0x115522(0x130)](0x0,_0x50f513['length']-0x1);const _0x5c19e2=_0x50f513[_0x115522(0xde)](',');return _0x5c19e2;}async function proxyURL(_0x39fb29,_0x19bf57){const _0x353b24=_0x21cbee;const _0x1b2b63=await ADD(_0x39fb29);const _0x34d9a6=_0x1b2b63[Math[_0x353b24(0x180)](Math[_0x353b24(0x13f)]()*_0x1b2b63[_0x353b24(0xa9)])];let _0x135f92=new URL(_0x34d9a6);console[_0x353b24(0x135)](_0x135f92);let _0x18a03f=_0x135f92[_0x353b24(0x19f)]['slice'](0x0,-0x1)||_0x353b24(0x14d);let _0x4a1cd2=_0x135f92[_0x353b24(0x119)];let _0x397897=_0x135f92[_0x353b24(0x171)];let _0x1bef8d=_0x135f92[_0x353b24(0x84)];if(_0x397897[_0x353b24(0x18a)](_0x397897[_0x353b24(0xa9)]-0x1)=='/'){_0x397897=_0x397897[_0x353b24(0x130)](0x0,-0x1);}_0x397897+=_0x19bf57[_0x353b24(0x171)];let _0x11209b=_0x18a03f+_0x353b24(0x9d)+_0x4a1cd2+_0x397897+_0x1bef8d;let _0x5d0405=await fetch(_0x11209b);let _0x5b9453=new Response(_0x5d0405[_0x353b24(0x11a)],{'status':_0x5d0405[_0x353b24(0x1a1)],'statusText':_0x5d0405['statusText'],'headers':_0x5d0405['headers']});_0x5b9453[_0x353b24(0xa6)]['set'](_0x353b24(0x98),_0x11209b);return _0x5b9453;}function checkSUB(_0x42fc87){const _0x3162cf=_0x21cbee;if((!sub||sub=='')&&addresses[_0x3162cf(0xa9)]+addressesapi[_0x3162cf(0xa9)]+addressesnotls['length']+addressesnotlsapi[_0x3162cf(0xa9)]+addressescsv[_0x3162cf(0xa9)]==0x0){addresses=['127.0.0.1:1234#CFnat',_0x3162cf(0x177),'singapore.com:8443',_0x3162cf(0x100),_0x3162cf(0x83),_0x3162cf(0x13c),_0x3162cf(0x165),_0x3162cf(0xf8),_0x3162cf(0xad),_0x3162cf(0x1ac),'www.wto.org:8443',_0x3162cf(0x101),_0x3162cf(0x8e),_0x3162cf(0xa8)];if(_0x42fc87[_0x3162cf(0x114)](_0x3162cf(0x126)))addressesnotls=[_0x3162cf(0xdf),'myanmar.visa.com:8080',_0x3162cf(0x1bd),_0x3162cf(0xdd),_0x3162cf(0x90),_0x3162cf(0x18d)];}}const 啥啥啥_写的这是啥啊=_0x21cbee(0xfe);function 配置信息(_0x5d8c64,_0x43fb0a){const _0x34d859=_0x21cbee;const _0x5f28e6=atob(啥啥啥_写的这是啥啊);const _0x4bcc30=FileName;let _0x5b50e5=_0x43fb0a;let _0x4bdd42=0x1bb;const _0x22b903=_0x5d8c64;const _0x131a5a=_0x34d859(0x1aa);const _0x14bb7c='ws';const _0x26e2c5=_0x43fb0a;const _0x3ac87a=_0x34d859(0xc1);let _0x3290a7=['tls',!![]];const _0x506d80=_0x43fb0a;const _0xbcf094=_0x34d859(0x1b1);if(_0x43fb0a[_0x34d859(0x114)](_0x34d859(0x126))){_0x5b50e5=_0x34d859(0x1a0);_0x4bdd42=0x50;_0x3290a7=['',![]];}const _0x19f641=_0x5f28e6+_0x34d859(0x9d)+_0x22b903+'@'+_0x5b50e5+':'+_0x4bdd42+_0x34d859(0x92)+_0x131a5a+_0x34d859(0x128)+_0x3290a7[0x0]+_0x34d859(0x120)+_0x506d80+_0x34d859(0xa2)+_0xbcf094+_0x34d859(0x13d)+_0x14bb7c+_0x34d859(0xc7)+_0x26e2c5+_0x34d859(0xd6)+encodeURIComponent(_0x3ac87a)+'#'+encodeURIComponent(_0x4bcc30);const _0x15f227=_0x34d859(0x16f)+_0x5f28e6+_0x34d859(0x78)+FileName+_0x34d859(0x111)+_0x5b50e5+_0x34d859(0xfb)+_0x4bdd42+_0x34d859(0x172)+_0x22b903+_0x34d859(0x147)+_0x14bb7c+_0x34d859(0x19a)+_0x3290a7[0x1]+_0x34d859(0x18b)+_0x506d80+'\x0a\x20\x20client-fingerprint:\x20'+_0xbcf094+_0x34d859(0x164)+_0x3ac87a+'\x22\x0a\x20\x20\x20\x20headers:\x0a\x20\x20\x20\x20\x20\x20host:\x20'+_0x26e2c5;return[_0x19f641,_0x15f227];}let subParams=[_0x21cbee(0x123),'base64',_0x21cbee(0x7c),'clash','singbox','sb'];async function getVLESSConfig(_0x5c76de,_0x40081a,_0x169502,_0x17c884,_0x483f79,_0x43b0a2,_0x532ee7){const _0x247c93=_0x21cbee;const _0x2e4192=_0x43b0a2[_0x247c93(0x171)]=='/'+_0x532ee7['KEY']?_0x532ee7[_0x247c93(0x108)]:_0x5c76de;checkSUB(_0x40081a);const _0x105fc2=_0x17c884['toLowerCase']();const _0x132391=配置信息(_0x5c76de,_0x40081a);const _0x254fa2=_0x132391[0x0];const _0x17f98b=_0x132391[0x1];let _0xb707ab='';if(_0x40081a['includes']('.workers.dev')||_0x40081a[_0x247c93(0x114)]('.pages.dev')){if(proxyhostsURL&&(!proxyhosts||proxyhosts[_0x247c93(0xa9)]==0x0)){try{const _0x259f66=await fetch(proxyhostsURL);if(!_0x259f66['ok']){console[_0x247c93(0xf5)](_0x247c93(0x8b),_0x259f66[_0x247c93(0x1a1)],_0x259f66['statusText']);return;}const _0x5e31aa=await _0x259f66[_0x247c93(0x1bf)]();const _0x2c64fe=_0x5e31aa[_0x247c93(0xde)]('\x0a');const _0xba2bb8=_0x2c64fe[_0x247c93(0x79)](_0x25ccac=>_0x25ccac[_0x247c93(0x151)]()!=='');proxyhosts=proxyhosts['concat'](_0xba2bb8);}catch(_0x548b9c){}}if(proxyhosts[_0x247c93(0xa9)]!=0x0)_0xb707ab=proxyhosts[Math[_0x247c93(0x180)](Math[_0x247c93(0x13f)]()*proxyhosts[_0x247c93(0xa9)])]+'/';}if(_0x105fc2[_0x247c93(0x114)](_0x247c93(0x16d))&&!subParams['some'](_0x4d634f=>_0x43b0a2['searchParams']['has'](_0x4d634f))){const _0x959fe4=socks5s[_0x247c93(0x1a6)](_0xa1c53=>{const _0x245b39=_0x247c93;if(_0xa1c53[_0x245b39(0x114)]('@'))return _0xa1c53[_0x245b39(0xde)]('@')[0x1];else if(_0xa1c53[_0x245b39(0x114)]('//'))return _0xa1c53[_0x245b39(0xde)]('//')[0x1];else return _0xa1c53;});let _0x3f7798='';if(go2Socks5s[_0x247c93(0xa9)]>0x0&&enableSocks){_0x3f7798=''+decodeURIComponent('SOCKS5%EF%BC%88%E7%99%BD%E5%90%8D%E5%8D%95%EF%BC%89%3A%20');if(go2Socks5s[_0x247c93(0x114)](atob('YWxsIGlu'))||go2Socks5s[_0x247c93(0x114)](atob(_0x247c93(0x137))))_0x3f7798+=decodeURIComponent(_0x247c93(0x152))+'\x0a';else _0x3f7798+='\x0a\x20\x20'+go2Socks5s[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a';}let _0x49ae67='\x0a';if(!_0x169502||_0x169502==''){if(enableSocks)_0x49ae67+=_0x247c93(0x1c0)+_0x959fe4['join'](_0x247c93(0x133))+'\x0a'+_0x3f7798;else if(proxyIP&&proxyIP!='')_0x49ae67+='CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20'+proxyIPs[_0x247c93(0x14b)]('\x0a\x20\x20')+'\x0a';else _0x49ae67+=_0x247c93(0x183);_0x49ae67+='\x0a您的订阅内容由\x20内置\x20addresses/ADD*\x20参数变量提供\x0a';if(addresses[_0x247c93(0xa9)]>0x0)_0x49ae67+=_0x247c93(0x189)+addresses[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a';if(addressesnotls[_0x247c93(0xa9)]>0x0)_0x49ae67+=_0x247c93(0x8c)+addressesnotls[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a';if(addressesapi[_0x247c93(0xa9)]>0x0)_0x49ae67+='ADDAPI（TLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20'+addressesapi[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a';if(addressesnotlsapi[_0x247c93(0xa9)]>0x0)_0x49ae67+='ADDNOTLSAPI（noTLS优选域名&IP\x20的\x20API）:\x20\x0a\x20\x20'+addressesnotlsapi['join'](_0x247c93(0x133))+'\x0a';if(addressescsv[_0x247c93(0xa9)]>0x0)_0x49ae67+=_0x247c93(0x14a)+DLS+_0x247c93(0x18f)+addressescsv['join'](_0x247c93(0x133))+'\x0a';}else{if(enableSocks)_0x49ae67+=_0x247c93(0x1c0)+_0x959fe4[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a'+_0x3f7798;else if(proxyIP&&proxyIP!='')_0x49ae67+=_0x247c93(0x77)+proxyIPs[_0x247c93(0x14b)](_0x247c93(0x133))+'\x0a';else if(_0x483f79==_0x247c93(0x176))_0x49ae67+=_0x247c93(0x1b9);else _0x49ae67+=_0x247c93(0x183);_0x49ae67+=_0x247c93(0x1b0)+_0x169502;}if(_0x532ee7[_0x247c93(0x108)]&&_0x43b0a2[_0x247c93(0x171)]!=='/'+_0x532ee7[_0x247c93(0x108)])_0x49ae67='';else _0x49ae67+=_0x247c93(0x198)+subProtocol+'://'+subconverter+_0x247c93(0x74)+subconfig;const _0x3cfeb2=_0x2e4192!=_0x5c76de?_0x247c93(0xcf)+_0x2e4192+_0x247c93(0xe4)+_0x5c76de+_0x247c93(0xa1)+userIDLow+'\x0a'+userIDTime+_0x247c93(0x17f)+effectiveTime+'\x20天\x0aUPTIME（动态UUID更新时间）:\x20'+updateTime+'\x20时（北京时间）\x0a\x0a':''+userIDTime;return'\x0a🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟🌟\x20\x20\x0aSubscribe\x20/\x20sub\x20订阅地址,\x20支持\x20Base64、clash-meta、sing-box\x20订阅格式\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a通用:\x20\x20\x0ahttps://'+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0xd5)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0xd9)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0x187)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0x97)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0x194)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0x99)+_0xb707ab+_0x40081a+'/'+_0x2e4192+_0x247c93(0xcb)+FileName+_0x247c93(0x182)+_0x3cfeb2+'HOST:\x20'+_0x40081a+_0x247c93(0xec)+_0x5c76de+_0x247c93(0xcc)+fakeUserID+_0x247c93(0x112)+_0x17c884+_0x247c93(0xa0)+_0x49ae67+_0x247c93(0x13e)+_0x254fa2+'\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵🎵\x20\x20\x0aclash-meta\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a'+_0x17f98b+'\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼🌼\x0a\x0a';}else{if(typeof fetch!=_0x247c93(0x12e)){return _0x247c93(0x199);}let _0x158d6e=[];let _0x4821ff=[];let _0x27c27f=[];let _0x13b849=[];if(_0x40081a['includes'](_0x247c93(0x126))){noTLS=_0x247c93(0x176);fakeHostName=fakeHostName+_0x247c93(0x126);_0x27c27f=await getAddressesapi(addressesnotlsapi);_0x13b849=await getAddressescsv(_0x247c93(0x144));}else if(_0x40081a[_0x247c93(0x114)](_0x247c93(0xd7))){fakeHostName=fakeHostName+_0x247c93(0xd7);}else if(_0x40081a[_0x247c93(0x114)](_0x247c93(0x191))||_0x40081a[_0x247c93(0x114)]('notls')||noTLS==_0x247c93(0x176)){noTLS='true';fakeHostName=_0x247c93(0x18c)+fakeHostName+_0x247c93(0xac);_0x27c27f=await getAddressesapi(addressesnotlsapi);_0x13b849=await getAddressescsv(_0x247c93(0x144));}else{fakeHostName=fakeHostName+'.xyz';}console[_0x247c93(0x135)](_0x247c93(0x174)+fakeHostName);let _0x29daab=subProtocol+_0x247c93(0x9d)+_0x169502+_0x247c93(0x192)+fakeHostName+'&uuid='+fakeUserID+'&edgetunnel=cmliu&proxyip='+_0x483f79;let _0x50e616=!![];if(!_0x169502||_0x169502==''){if(_0x40081a['includes'](_0x247c93(0x179))||_0x40081a['includes'](_0x247c93(0x94))){if(proxyhostsURL&&(!proxyhosts||proxyhosts['length']==0x0)){try{const _0x1f378e=await fetch(proxyhostsURL);if(!_0x1f378e['ok']){console[_0x247c93(0xf5)]('获取地址时出错:',_0x1f378e[_0x247c93(0x1a1)],_0x1f378e[_0x247c93(0xba)]);return;}const _0x251d67=await _0x1f378e[_0x247c93(0x1bf)]();const _0xaae6ae=_0x251d67[_0x247c93(0xde)]('\x0a');const _0x594310=_0xaae6ae[_0x247c93(0x79)](_0x3e3844=>_0x3e3844[_0x247c93(0x151)]()!=='');proxyhosts=proxyhosts[_0x247c93(0xbd)](_0x594310);}catch(_0x3f07b6){console[_0x247c93(0xf5)]('获取地址时出错:',_0x3f07b6);}}proxyhosts=[...new Set(proxyhosts)];}_0x158d6e=await getAddressesapi(addressesapi);_0x4821ff=await getAddressescsv(_0x247c93(0x10c));_0x29daab='https://'+_0x40081a+'/'+fakeUserID;if(_0x40081a['includes']('worker')||_0x40081a[_0x247c93(0x114)](_0x247c93(0x18c))||noTLS==_0x247c93(0x176))_0x29daab+='?notls';console[_0x247c93(0x135)](_0x247c93(0x1a3)+_0x29daab);}if(!_0x105fc2[_0x247c93(0x114)](_0x247c93(0x153)[_0x247c93(0x16b)]())){if(_0x105fc2[_0x247c93(0x114)](_0x247c93(0x75))&&!_0x105fc2[_0x247c93(0x114)](_0x247c93(0x155))||_0x43b0a2[_0x247c93(0x17c)][_0x247c93(0x116)](_0x247c93(0x75))&&!_0x105fc2[_0x247c93(0x114)]('subconverter')){_0x29daab=subProtocol+_0x247c93(0x9d)+subconverter+_0x247c93(0x1b3)+encodeURIComponent(_0x29daab)+_0x247c93(0x1ad)+encodeURIComponent(subconfig)+_0x247c93(0x8a);_0x50e616=![];}else if(_0x105fc2['includes'](_0x247c93(0xd1))||_0x105fc2[_0x247c93(0x114)](_0x247c93(0x132))||(_0x43b0a2[_0x247c93(0x17c)][_0x247c93(0x116)](_0x247c93(0x132))||_0x43b0a2['searchParams'][_0x247c93(0x116)]('sb'))&&!_0x105fc2[_0x247c93(0x114)](_0x247c93(0x159))){_0x29daab=subProtocol+'://'+subconverter+_0x247c93(0x188)+encodeURIComponent(_0x29daab)+'&insert=false&config='+encodeURIComponent(subconfig)+'&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true';_0x50e616=![];}}try{let _0x23e06e;if((!_0x169502||_0x169502=='')&&_0x50e616==!![]){_0x23e06e=await subAddresses(fakeHostName,fakeUserID,noTLS,_0x158d6e,_0x4821ff,_0x27c27f,_0x13b849);}else{const _0x14b391=await fetch(_0x29daab,{'headers':{'User-Agent':_0x17c884+_0x247c93(0x7d)}});_0x23e06e=await _0x14b391[_0x247c93(0x1bf)]();}if(_0x43b0a2['pathname']=='/'+fakeUserID)return _0x23e06e;return revertFakeInfo(_0x23e06e,_0x5c76de,_0x40081a,_0x50e616);}catch(_0x1df0fa){console['error']('Error\x20fetching\x20content:',_0x1df0fa);return _0x247c93(0x7e)+_0x1df0fa[_0x247c93(0x1a2)];}}}async function getAccountId(_0xe5f24a,_0x30f733){const _0x4cd2fe=_0x21cbee;try{const _0x8b8a6a='https://api.cloudflare.com/client/v4/accounts';const _0x30de08=new Headers({'X-AUTH-EMAIL':_0xe5f24a,'X-AUTH-KEY':_0x30f733});const _0xb88942=await fetch(_0x8b8a6a,{'headers':_0x30de08});const _0x2bfeea=await _0xb88942[_0x4cd2fe(0xe3)]();return _0x2bfeea[_0x4cd2fe(0xea)][0x0]['id'];}catch(_0x5d2360){return![];}}async function getSum(_0x4ac097,_0x369dad,_0x5d355f,_0x8b8cda,_0x4ec64c,_0x26cba8){const _0xa83526=_0x21cbee;try{const _0x22fa8a=new Date(_0x4ec64c)[_0xa83526(0x158)]();const _0x21445c=new Date(_0x26cba8)[_0xa83526(0x158)]();const _0x31fd7a=JSON[_0xa83526(0x1b5)]({'query':'query\x20getBillingMetrics($accountId:\x20String!,\x20$filter:\x20AccountWorkersInvocationsAdaptiveFilter_InputObject)\x20{\x0a\x09\x09\x09\x09viewer\x20{\x0a\x09\x09\x09\x09\x09accounts(filter:\x20{accountTag:\x20$accountId})\x20{\x0a\x09\x09\x09\x09\x09\x09pagesFunctionsInvocationsAdaptiveGroups(limit:\x201000,\x20filter:\x20$filter)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09sum\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09requests\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09workersInvocationsAdaptive(limit:\x2010000,\x20filter:\x20$filter)\x20{\x0a\x09\x09\x09\x09\x09\x09\x09sum\x20{\x0a\x09\x09\x09\x09\x09\x09\x09\x09requests\x0a\x09\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09\x09}\x0a\x09\x09\x09\x09}\x0a\x09\x09\x09}','variables':{'accountId':_0x4ac097,'filter':{'datetime_geq':_0x22fa8a,'datetime_leq':_0x21445c}}});const _0x14367a=new Headers({'Content-Type':_0xa83526(0x134),'X-AUTH-EMAIL':_0x5d355f,'X-AUTH-KEY':_0x8b8cda});const _0x368541=await fetch(_0xa83526(0x146),{'method':_0xa83526(0xc5),'headers':_0x14367a,'body':_0x31fd7a});if(!_0x368541['ok']){throw new Error('HTTP\x20error!\x20status:\x20'+_0x368541[_0xa83526(0x1a1)]);}const _0x5068d2=await _0x368541[_0xa83526(0xe3)]();const _0x486aef=_0x5068d2?.[_0xa83526(0x19e)]?.[_0xa83526(0x1a7)]?.['accounts']?.[_0x369dad]?.[_0xa83526(0xed)];const _0x34d5ec=_0x5068d2?.[_0xa83526(0x19e)]?.[_0xa83526(0x1a7)]?.['accounts']?.[_0x369dad]?.['workersInvocationsAdaptive'];if(!_0x486aef&&!_0x34d5ec){throw new Error(_0xa83526(0x122));}const _0x567119=_0x486aef[_0xa83526(0xa5)]((_0x18d139,_0x3f2d14)=>_0x18d139+_0x3f2d14?.[_0xa83526(0xef)][_0xa83526(0x19b)],0x0);const _0x81397f=_0x34d5ec[_0xa83526(0xa5)]((_0x116f63,_0x32a922)=>_0x116f63+_0x32a922?.['sum'][_0xa83526(0x19b)],0x0);return[_0x567119,_0x81397f];}catch(_0x26d811){return[0x0,0x0];}}let proxyIPPool=[];async function getAddressesapi(_0x4a0a9e){const _0xb5a4d=_0x21cbee;if(!_0x4a0a9e||_0x4a0a9e[_0xb5a4d(0xa9)]===0x0)return[];let _0x14665d='';const _0x449d33=new AbortController();const _0x1e1395=setTimeout(()=>{_0x449d33['abort']();},0x7d0);try{const _0x1f26fb=await Promise[_0xb5a4d(0x89)](_0x4a0a9e[_0xb5a4d(0x1a6)](_0x1693f1=>fetch(_0x1693f1,{'method':'get','headers':{'Accept':_0xb5a4d(0x1a9),'User-Agent':_0xb5a4d(0xaf)},'signal':_0x449d33[_0xb5a4d(0x9a)]})['then'](_0xc2402b=>_0xc2402b['ok']?_0xc2402b['text']():Promise[_0xb5a4d(0x106)]())));for(const [_0x2671dd,_0x21acb7]of _0x1f26fb[_0xb5a4d(0x117)]()){if(_0x21acb7[_0xb5a4d(0x1a1)]==='fulfilled'){const _0x1d6ced=await _0x21acb7[_0xb5a4d(0xbf)];if(_0x4a0a9e[_0x2671dd][_0xb5a4d(0x114)](_0xb5a4d(0xb2))){proxyIPPool=proxyIPPool[_0xb5a4d(0xbd)]((await ADD(_0x1d6ced))[_0xb5a4d(0x1a6)](_0x2c1d09=>{const _0x7fde7c=_0xb5a4d;const _0x2bed12=_0x2c1d09[_0x7fde7c(0xde)]('#')[0x0]||_0x2c1d09;if(_0x2bed12[_0x7fde7c(0x114)](':')){const _0x42a366=_0x2bed12[_0x7fde7c(0xde)](':')[0x1];if(!httpsPorts['includes'](_0x42a366)){return _0x2bed12;}}else{return _0x2bed12+':443';}return null;})[_0xb5a4d(0x79)](Boolean));}_0x14665d+=_0x1d6ced+'\x0a';}}}catch(_0x173929){console[_0xb5a4d(0xf5)](_0x173929);}finally{clearTimeout(_0x1e1395);}const _0x5c48e1=await ADD(_0x14665d);return _0x5c48e1;}function _0x3b78(_0x34b833,_0x457979){const _0x7d25a5=_0x7d25();_0x3b78=function(_0x3b7805,_0x379066){_0x3b7805=_0x3b7805-0x73;let _0x1b9a4b=_0x7d25a5[_0x3b7805];return _0x1b9a4b;};return _0x3b78(_0x34b833,_0x457979);}function _0x7d25(){const _0x4fe0c3=['&type=','\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥🔥\x20\x20\x0av2ray\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a','random','toUpperCase','indexOf','\x0a<tg-spoiler>城市:\x20',';\x20download=','FALSE','361152PtgVzf','https://api.cloudflare.com/client/v4/graphql','\x0a\x20\x20network:\x20','match','*tapecontent.net','ADDCSV（IPTest测速csv文件\x20限速\x20','join','https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/config/ACL4SSR_Online_Mini_MultiMode.ini','https','CF-Connecting-IP','443','RPROXYIP','trim','%E6%89%80%E6%9C%89%E6%B5%81%E9%87%8F','CF-Workers-SUB','attachment;\x20filename=','nekobox','2052','read','toISOString','subconverter','subtle','remoteConnection!.readable\x20abort','服务器不接受任何认证方法','all','getReader','ADDAPI','readyState','org','getWriter','/proxyip.','\x0a\x20\x20ws-opts:\x0a\x20\x20\x20\x20path:\x20\x22','www.gov.ua:2096','tcp\x20','readableWebSocketStream\x20已关闭','DLS','stack','CSV文件缺少必需的字段','toLowerCase','webSocket.readyState\x20is\x20not\x20open,\x20maybe\x20close','mozilla','SUBAPI.fxxk.dedyn.io','-\x20type:\x20','ADDNOTLSAPI','pathname','\x0a\x20\x20uuid:\x20','8880','虚假HOST:\x20','无效的地址类型:\x20','true','visa.cn:443','http','workers.dev','substr','remoteSocketToWS\x20has\x20exception\x20','searchParams','enqueue','ceil','TIME（动态UUID有效时间）:\x20','floor','http://','\x20配置信息\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a','CFCDN（访问方式）:\x20无法访问,\x20需要您设置\x20proxyIP/PROXYIP\x20！！！\x0a','values','http://ip-api.com/json/','处理\x20TCP\x20出站连接\x20','?b64\x20\x20\x0ahttps://','/sub?target=singbox&url=','ADD（TLS优选域名&IP）:\x20\x0a\x20\x20','charAt','\x0a\x20\x20udp:\x20false\x0a\x20\x20sni:\x20','notls','www.visasoutheasteurope.com:2086','8443','\x20）:\x20\x0a\x20\x20','\x20启用域名中转服务','worker','/sub?host=','2087','?clash\x20\x20\x0a\x0asingbox:\x20\x20\x0ahttps://','14982LAzEtF','readable','addressValue\x20is\x20empty,\x20addressType\x20is\x20','\x0aSUBAPI（订阅转换后端）:\x20','Error:\x20fetch\x20is\x20not\x20available\x20in\x20this\x20environment.','\x0a\x20\x20tls:\x20','requests','readableWebSocketStream\x20管道错误','pop','data','protocol','visa.cn','status','message','虚假订阅:\x20','SHA-256','CFPORTS','map','viewer',';\x20total=','text/html,application/xhtml+xml,application/xml;','none','udp\x20','time.is','&insert=false&config=','setMilliseconds','replace','\x0aSUB（优选订阅生成器）:\x20','randomized','releaseLock','/sub?target=clash&url=','*cloudatacdn.com','stringify','已发送\x20SOCKS5\x20问候消息','/socks5://',')\x20TCP\x20连接已关闭','CFCDN（访问方式）:\x20自动获取ProxyIP\x0a','get','getTime','User-Agent','dynadot.com:8880','ADDCSV','text','CFCDN（访问方式）:\x20Socks5\x0a\x20\x20','可读流被取消，原因是\x20','2095','\x0aSUBCONFIG（订阅转换配置文件）:\x20','clash','2082','CFCDN（访问方式）:\x20ProxyIP\x0a\x20\x20','\x0a\x20\x20name:\x20','filter','Upgrade','&proxyip=','b64','\x20CF-Workers-edgetunnel/cmliu','Error\x20fetching\x20content:\x20','.tp','5itiyJr','catch','到期时间(UTC):\x20','brazil.com:2083','search','encode','MD5','?encryption=none&security=&type=ws&host=','</tg-spoiler>\x0a域名:\x20','allSettled','&emoji=true&list=false&tfo=false&scv=true&fdn=false&sort=false&new_name=true','获取地址时出错:','ADDNOTLS（noTLS优选域名&IP）:\x20\x0a\x20\x20','*.loadshare.org','icook.hk','TLS','shopify.com:2082','setUTCHours','?encryption=','then','pages.dev','country','addEventListener','?base64\x20\x20\x0a\x0aclash:\x20\x20\x0ahttps://','X-New-URL','?sb\x20\x20\x0ahttps://','signal','false','url','://','\x0aIP:\x20','110UugMaV','\x20\x20\x0a','\x0aUUIDLow:\x20','&fp=','sec-websocket-protocol','3310728PfBLJI','reduce','headers','URL302','[2606:4700::]#IPv6','length','ADD','获取CSV地址时出错:','.net','www.gov.se','socks5','CF-Workers-edgetunnel/cmliu','*ttvnw.net','SOCKS5\x20服务器认证失败','proxyip=true','Host','sub.keaeye.icu','test','closed','arrayBuffer','2EcsnVl',')\x20TCP\x20连接异常中断','statusText','command\x20','getMilliseconds','concat','7kqgqga','value','ADDNOTLS','/?ed=2560','6zXihQa','CFEMAIL','gzip,\x20deflate,\x20br','POST','getUint16','&host=',';\x20expire=','\x0a组织:\x20','SUB','?singbox\x20\x20\x0a---------------------------------------------------------------\x20\x20\x0a💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎💎\x20\x20\x0a','\x20\x20\x0aFKID:\x20','SUBAPI','upload=','TOKEN:\x20','pipeTo','sing-box','WebSocket\x20服务器发生错误','charCodeAt','CFKEY','\x20\x20\x0ahttps://','&path=','.pages.dev','setHours','?sub\x20\x20\x0a\x0aBase64:\x20\x20\x0ahttps://','close','digest','&fp=random&type=ws&host=','www.visaeurope.ch:2052','split','usa.visa.com:2095','toString','GO2SOCKS5','?encryption=none&security=tls&sni=','json','\x0aUUIDNow:\x20','#获取订阅\x20','uuid\x20is\x20not\x20valid','from','readableWebSocketStream\x20已中止','257886fCuNXM','result','redirect','\x20\x20\x0aUUID:\x20','pagesFunctionsInvocationsAdaptiveGroups','URL','sum','/socks://','invild\x20addressType\x20is\x20','UA:\x20','write','2505696kJcZiV','error','invalid\x20user\x20','city','www.gco.gov.qa:8443','UDP\x20代理仅对\x20DNS（53\x20端口）启用','SOCKS5\x20服务器版本错误:\x20收到\x20','\x0a\x20\x20port:\x20','connected\x20to\x20','DNS\x20服务器(','dmxlc3M=','bc72bd37-8ce6-480e-ac1a-3010c39fde61','japan.com:2053','fbi.gov:2087','https://api.telegram.org/bot','https://raw.githubusercontent.com/cmliu/CFcdnVmess2sub/main/proxyhosts','push','UPTIME','reject','websocket','KEY','已发送\x20SOCKS5\x20请求','2096','send','TRUE','buffer','proxyip','2086',';\x20filename*=utf-8\x27\x27','\x0a\x20\x20server:\x20','\x20\x20\x0aUA:\x20','生成的\x20UUID\x20不符合规范\x20','includes','TGID','has','entries','TIME','hostname','body','writable','accept','TGTOKEN','proxyip.','text/plain;charset=utf-8','&sni=','无效的\x20SOCKS\x20地址格式：端口号必须是数字','找不到数据','sub','8080','safeCloseWebSocket\x20error','.workers.dev','retry','&security=','2053','padStart','98613zasxNt','8.8.4.4','375160HYyGnx','function','请提供用户名和密码','slice','?lang=zh-CN','singbox','\x0a\x20\x20','application/json','log','\x0a国家:\x20','Kg==','SUBCONFIG','cHJveHlpcC50cDEuY21saXVzc3NzLmNvbQ==','null','remoteConnection!.readable\x20is\x20close\x20with\x20hasIncomingData\x20is\x20','russia.com:2087'];_0x7d25=function(){return _0x4fe0c3;};return _0x7d25();}async function getAddressescsv(_0xc169a){const _0x4c2f93=_0x21cbee;if(!addressescsv||addressescsv['length']===0x0){return[];}let _0x28fb00=[];for(const _0x24ba7e of addressescsv){try{const _0x18a6da=await fetch(_0x24ba7e);if(!_0x18a6da['ok']){console['error'](_0x4c2f93(0xab),_0x18a6da['status'],_0x18a6da[_0x4c2f93(0xba)]);continue;}const _0x49f3e8=await _0x18a6da['text']();let _0x4bbc50;if(_0x49f3e8[_0x4c2f93(0x114)]('\x0d\x0a')){_0x4bbc50=_0x49f3e8[_0x4c2f93(0xde)]('\x0d\x0a');}else{_0x4bbc50=_0x49f3e8[_0x4c2f93(0xde)]('\x0a');}const _0x1003d4=_0x4bbc50[0x0][_0x4c2f93(0xde)](',');const _0x3a7a9b=_0x1003d4[_0x4c2f93(0x141)](_0x4c2f93(0x8f));const _0x58cfa5=0x0;const _0x9f8214=0x1;const _0x3874cf=_0x3a7a9b+0x1;if(_0x3a7a9b===-0x1){console[_0x4c2f93(0xf5)](_0x4c2f93(0x16a));continue;}for(let _0x148f5a=0x1;_0x148f5a<_0x4bbc50[_0x4c2f93(0xa9)];_0x148f5a++){const _0x59f01d=_0x4bbc50[_0x148f5a][_0x4c2f93(0xde)](',');const _0x501b88=_0x59f01d['length']-0x1;if(_0x59f01d[_0x3a7a9b][_0x4c2f93(0x140)]()===_0xc169a&&parseFloat(_0x59f01d[_0x501b88])>DLS){const _0x1d27a6=_0x59f01d[_0x58cfa5];const _0x15a6bf=_0x59f01d[_0x9f8214];const _0x42d6fc=_0x59f01d[_0x3874cf];const _0x280f74=_0x1d27a6+':'+_0x15a6bf+'#'+_0x42d6fc;_0x28fb00[_0x4c2f93(0x104)](_0x280f74);if(_0x24ba7e[_0x4c2f93(0x114)]('proxyip=true')&&_0x59f01d[_0x3a7a9b][_0x4c2f93(0x140)]()==_0x4c2f93(0x176)&&!httpsPorts[_0x4c2f93(0x114)](_0x15a6bf)){proxyIPPool[_0x4c2f93(0x104)](_0x1d27a6+':'+_0x15a6bf);}}}}catch(_0x43b49b){console[_0x4c2f93(0xf5)](_0x4c2f93(0xab),_0x43b49b);continue;}}return _0x28fb00;}function subAddresses(_0x48e81e,_0xdc6f4e,_0x502e11,_0x265431,_0x1de3c4,_0x610413,_0x2dd4ca){const _0x599860=_0x21cbee;const _0x5776bd=/^(\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}|\[.*\]):?(\d+)?#?(.*)?$/;addresses=addresses[_0x599860(0xbd)](_0x265431);addresses=addresses['concat'](_0x1de3c4);let _0x1d479e;if(_0x502e11==_0x599860(0x176)){addressesnotls=addressesnotls[_0x599860(0xbd)](_0x610413);addressesnotls=addressesnotls[_0x599860(0xbd)](_0x2dd4ca);const _0x309599=[...new Set(addressesnotls)];_0x1d479e=_0x309599[_0x599860(0x1a6)](_0x4541a8=>{const _0x640eef=_0x599860;let _0x256685='-1';let _0x10dd22=_0x4541a8;const _0x245dcc=_0x10dd22[_0x640eef(0x148)](_0x5776bd);if(!_0x245dcc){if(_0x4541a8[_0x640eef(0x114)](':')&&_0x4541a8[_0x640eef(0x114)]('#')){const _0x5939bc=_0x4541a8['split'](':');_0x4541a8=_0x5939bc[0x0];const _0x20fb43=_0x5939bc[0x1]['split']('#');_0x256685=_0x20fb43[0x0];_0x10dd22=_0x20fb43[0x1];}else if(_0x4541a8[_0x640eef(0x114)](':')){const _0x5a967d=_0x4541a8[_0x640eef(0xde)](':');_0x4541a8=_0x5a967d[0x0];_0x256685=_0x5a967d[0x1];}else if(_0x4541a8[_0x640eef(0x114)]('#')){const _0x7ea208=_0x4541a8['split']('#');_0x4541a8=_0x7ea208[0x0];_0x10dd22=_0x7ea208[0x1];}if(_0x10dd22['includes'](':')){_0x10dd22=_0x10dd22[_0x640eef(0xde)](':')[0x0];}}else{_0x4541a8=_0x245dcc[0x1];_0x256685=_0x245dcc[0x2]||_0x256685;_0x10dd22=_0x245dcc[0x3]||_0x4541a8;}const _0x9ed7c4=[_0x640eef(0x124),_0x640eef(0x173),_0x640eef(0x156),_0x640eef(0x76),_0x640eef(0x10f),_0x640eef(0x73)];if(!isValidIPv4(_0x4541a8)&&_0x256685=='-1'){for(let _0x3cc5a6 of _0x9ed7c4){if(_0x4541a8['includes'](_0x3cc5a6)){_0x256685=_0x3cc5a6;break;}}}if(_0x256685=='-1')_0x256685='80';let _0x5edcc5=_0x48e81e;let _0x210932=_0x640eef(0xc1);let _0x5333e4='';const _0x4e64d0=atob(啥啥啥_写的这是啥啊);const _0x6a4240=_0x4e64d0+_0x640eef(0x9d)+_0xdc6f4e+'@'+_0x4541a8+':'+_0x256685+_0x640eef(0x87)+_0x5edcc5+_0x640eef(0xd6)+encodeURIComponent(_0x210932)+'#'+encodeURIComponent(_0x10dd22+_0x5333e4);return _0x6a4240;})['join']('\x0a');}const _0x3729c9=[...new Set(addresses)];const _0xdbb277=_0x3729c9['map'](_0x3c3851=>{const _0x522ff6=_0x599860;let _0x473f57='-1';let _0x5352ba=_0x3c3851;const _0x2f309b=_0x5352ba[_0x522ff6(0x148)](_0x5776bd);if(!_0x2f309b){if(_0x3c3851[_0x522ff6(0x114)](':')&&_0x3c3851['includes']('#')){const _0x338c09=_0x3c3851[_0x522ff6(0xde)](':');_0x3c3851=_0x338c09[0x0];const _0x289e12=_0x338c09[0x1]['split']('#');_0x473f57=_0x289e12[0x0];_0x5352ba=_0x289e12[0x1];}else if(_0x3c3851[_0x522ff6(0x114)](':')){const _0x2061f3=_0x3c3851[_0x522ff6(0xde)](':');_0x3c3851=_0x2061f3[0x0];_0x473f57=_0x2061f3[0x1];}else if(_0x3c3851[_0x522ff6(0x114)]('#')){const _0x9717b3=_0x3c3851[_0x522ff6(0xde)]('#');_0x3c3851=_0x9717b3[0x0];_0x5352ba=_0x9717b3[0x1];}if(_0x5352ba[_0x522ff6(0x114)](':')){_0x5352ba=_0x5352ba['split'](':')[0x0];}}else{_0x3c3851=_0x2f309b[0x1];_0x473f57=_0x2f309b[0x2]||_0x473f57;_0x5352ba=_0x2f309b[0x3]||_0x3c3851;}if(!isValidIPv4(_0x3c3851)&&_0x473f57=='-1'){for(let _0x1ce8ff of httpsPorts){if(_0x3c3851['includes'](_0x1ce8ff)){_0x473f57=_0x1ce8ff;break;}}}if(_0x473f57=='-1')_0x473f57=_0x522ff6(0x14f);let _0x178451=_0x48e81e;let _0x2f3da8=_0x522ff6(0xc1);let _0x32b58b='';const _0xd6072a=proxyIPPool['find'](_0x9a5bb8=>_0x9a5bb8[_0x522ff6(0x114)](_0x3c3851));if(_0xd6072a)_0x2f3da8+=_0x522ff6(0x7b)+_0xd6072a;if(proxyhosts['length']>0x0&&(_0x178451[_0x522ff6(0x114)]('.workers.dev')||_0x178451[_0x522ff6(0x114)](_0x522ff6(0x94)))){_0x2f3da8='/'+_0x178451+_0x2f3da8;_0x178451=proxyhosts[Math[_0x522ff6(0x180)](Math[_0x522ff6(0x13f)]()*proxyhosts[_0x522ff6(0xa9)])];_0x32b58b=_0x522ff6(0x190);}const _0x3ee908=atob(啥啥啥_写的这是啥啊);const _0x15ed15=_0x3ee908+'://'+_0xdc6f4e+'@'+_0x3c3851+':'+_0x473f57+_0x522ff6(0xe2)+_0x178451+_0x522ff6(0xdc)+_0x178451+'&path='+encodeURIComponent(_0x2f3da8)+'#'+encodeURIComponent(_0x5352ba+_0x32b58b);return _0x15ed15;})[_0x599860(0x14b)]('\x0a');let _0x3a87a6=_0xdbb277;if(_0x502e11=='true')_0x3a87a6+='\x0a'+_0x1d479e;return btoa(_0x3a87a6);}async function sendMessage(_0x3d4735,_0xfaf4d2,_0x1b5b5a=''){const _0x483418=_0x21cbee;if(BotToken!==''&&ChatID!==''){let _0x1956f9='';const _0xb5b46a=await fetch(_0x483418(0x185)+_0xfaf4d2+_0x483418(0x131));if(_0xb5b46a[_0x483418(0x1a1)]==0xc8){const _0x1d9ffa=await _0xb5b46a[_0x483418(0xe3)]();_0x1956f9=_0x3d4735+'\x0aIP:\x20'+_0xfaf4d2+_0x483418(0x136)+_0x1d9ffa[_0x483418(0x95)]+_0x483418(0x142)+_0x1d9ffa[_0x483418(0xf7)]+_0x483418(0xc9)+_0x1d9ffa[_0x483418(0x161)]+'\x0aASN:\x20'+_0x1d9ffa['as']+'\x0a'+_0x1b5b5a;}else{_0x1956f9=_0x3d4735+_0x483418(0x9e)+_0xfaf4d2+'\x0a<tg-spoiler>'+_0x1b5b5a;}let _0x20d023=_0x483418(0x102)+BotToken+'/sendMessage?chat_id='+ChatID+'&parse_mode=HTML&text='+encodeURIComponent(_0x1956f9);return fetch(_0x20d023,{'method':_0x483418(0x1ba),'headers':{'Accept':_0x483418(0x1a9),'Accept-Encoding':_0x483418(0xc4),'User-Agent':'Mozilla/5.0\x20Chrome/90.0.4430.72'}});}}function isValidIPv4(_0x5103ac){const _0x1aec59=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;return _0x1aec59['test'](_0x5103ac);}function generateDynamicUUID(_0x378a12){const _0x461049=_0x21cbee;function _0x52c6e3(){const _0x5643b3=_0x3b78;const _0xed10f7=new Date();const _0x134d63=0x8;const _0x3b3dc0=new Date(_0xed10f7[_0x5643b3(0x1bb)]()+_0x134d63*0x3c*0x3c*0x3e8);const _0x486107=new Date(0x7d7,0x6,0x7,updateTime,0x0,0x0);const _0x1cef1b=_0x3b3dc0-_0x486107;const _0x48fb4b=0x3e8*0x3c*0x3c*0x18*effectiveTime;return Math[_0x5643b3(0x17e)](_0x1cef1b/_0x48fb4b);}const _0x654155=_0x52c6e3();const _0x38e863=new Date(0x7d7,0x6,0x7,updateTime,0x0,0x0);_0x38e863[_0x461049(0x1ae)](_0x38e863[_0x461049(0xbc)]()+_0x654155*0x3e8*0x3c*0x3c*0x18*effectiveTime);function _0x58f7e6(_0xd7189){const _0xa16532=_0x461049;const _0x1873ef=new TextEncoder()['encode'](_0xd7189);return crypto[_0xa16532(0x15a)][_0xa16532(0xdb)](_0xa16532(0x1a4),_0x1873ef)[_0xa16532(0x93)](_0x297594=>{const _0x46d3e4=_0xa16532;const _0x1af7da=Array[_0x46d3e4(0xe7)](new Uint8Array(_0x297594));const _0x190dee=_0x1af7da[_0x46d3e4(0x1a6)](_0x766765=>_0x766765['toString'](0x10)['padStart'](0x2,'0'))[_0x46d3e4(0x14b)]('');let _0x991057=_0x190dee[_0x46d3e4(0x17a)](0x0,0x8)+'-'+_0x190dee[_0x46d3e4(0x17a)](0x8,0x4)+'-4'+_0x190dee[_0x46d3e4(0x17a)](0xd,0x3)+'-'+(parseInt(_0x190dee['substr'](0x10,0x2),0x10)&0x3f|0x80)[_0x46d3e4(0xe0)](0x10)+_0x190dee[_0x46d3e4(0x17a)](0x12,0x2)+'-'+_0x190dee[_0x46d3e4(0x17a)](0x14,0xc);return _0x991057;});}const _0x58437b=_0x58f7e6(_0x378a12+_0x654155);const _0x43b17c=_0x58f7e6(_0x378a12+(_0x654155-0x1));const _0x9b3c74=new Date(_0x38e863['getTime']()-0x8*0x3c*0x3c*0x3e8);const _0x38747c=_0x461049(0x82)+_0x9b3c74['toISOString']()[_0x461049(0x130)](0x0,0x13)['replace']('T','\x20')+'\x20(UTC+8):\x20'+_0x38e863[_0x461049(0x158)]()[_0x461049(0x130)](0x0,0x13)[_0x461049(0x1af)]('T','\x20')+'\x0a';return Promise[_0x461049(0x15d)]([_0x58437b,_0x43b17c,_0x38747c]);}
